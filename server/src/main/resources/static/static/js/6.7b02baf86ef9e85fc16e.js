webpackJsonp([6],{I4MB:function(t,s){},nUuX:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"searchWrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"searchInput",attrs:{placeholder:"🔎请对供应商名称或编号或产地进行搜索",type:"text"},domProps:{value:t.message},on:{input:function(s){s.target.composing||(t.message=s.target.value)}}}),t._v(" "),a("div",{staticClass:"searchText putHover",on:{click:function(s){return t.toSearchName(1)}}},[t._v("搜索名称")]),t._v(" "),a("div",{staticClass:"searchText putHover",on:{click:function(s){return t.toSearchID(1)}}},[t._v("搜索编号")]),t._v(" "),a("div",{staticClass:"searchText putHover",on:{click:function(s){return t.toSearchLocal(1)}}},[t._v("搜索产地")])]),t._v(" "),a("div",{staticClass:"titleWrap"},[a("div",{staticClass:"title"},[t._v("\n      供应商信息列表：\n    ")]),t._v(" "),a("div",{staticClass:"titleRight"},[a("div",{staticClass:"count"},[t._v("\n        共有信息 "),a("span",{staticClass:"font_red font_blod font_mr"},[t._v(t._s(t.total))]),t._v("条\n      ")])]),t._v(" "),a("div",{staticClass:"add",on:{click:function(s){return t.showAddModel()}}},[t._v("\n      新增信息"),a("img",{attrs:{src:e("QBcd"),alt:""}})])]),t._v(" "),a("div",{staticClass:"listWrap "},[a("ul",{staticClass:"list shadow"},[t._m(0),t._v(" "),t.total<=0?a("li",{staticClass:"nodata"},[t._v("\n        暂无数据\n      ")]):t._l(t.dataList,function(s,e){return a("li",{key:e,staticClass:"listLi listContent"},[a("div",{staticClass:"li_div"},[t._v(t._s(s.supplierId))]),t._v(" "),a("div",{staticClass:"li_div"},[t._v(t._s(s.supplierName))]),t._v(" "),a("div",{staticClass:"li_div"},[t._v(t._s(s.originPlace))]),t._v(" "),a("div",{staticClass:"li_div"},[t._v(t._s(s.address))]),t._v(" "),a("div",{staticClass:"li_div"},[t._v(t._s(s.supplierUser))]),t._v(" "),a("div",{staticClass:"li_div"},[t._v(t._s(s.supplierPhone))]),t._v(" "),a("div",{staticClass:"operate"},[a("span",{staticClass:"edit putHover font_mr",on:{click:function(e){return t.showEditModel(s.id,s.supplierId,s.supplierName,s.originPlace,s.address,s.supplierUser,s.supplierPhone)}}},[t._v("修改")]),t._v(" "),a("Poptip",{attrs:{confirm:"",title:"删除该供应商，会将供应商名下的所有物料信息及询价信息都会被删除，确定删除吗？",placement:"bottom-end"},on:{"on-ok":function(e){return t.deleteSupplier(s.id)},"on-cancel":t.deletecancel}},[a("span",{staticClass:"delete putHover font_mr"},[t._v("删除")])])],1)])})],2),t._v(" "),a("div",{staticClass:"pageWrap"},[a("Page",{attrs:{total:t.total,current:t.pageNo,"page-size":t.pageSize,"prev-text":"上一页","next-text":"下一页"},on:{"on-change":t.changePage}})],1),t._v(" "),a("div",[a("Modal",{staticClass:"modelWrap",attrs:{closable:!1,"mask-closable":!1,width:"360"},model:{value:t.addModel,callback:function(s){t.addModel=s},expression:"addModel"}},[a("p",{staticClass:"modelTitle",attrs:{slot:"header"},slot:"header"},[t._v("添加供应商")]),t._v(" "),a("div",{staticClass:"modelContent"},[a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("供应商名称：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入供应商名称"},model:{value:t.supplierName,callback:function(s){t.supplierName=s},expression:"supplierName"}})],1),t._v(" "),a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("供应商产地：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入供应商产地"},model:{value:t.originPlace,callback:function(s){t.originPlace=s},expression:"originPlace"}})],1),t._v(" "),a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("详细地址：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入详细地址"},model:{value:t.address,callback:function(s){t.address=s},expression:"address"}})],1),t._v(" "),a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("联系人：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入联系人"},model:{value:t.supplierUser,callback:function(s){t.supplierUser=s},expression:"supplierUser"}})],1),t._v(" "),a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("联系方式：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"tel",maxlength:11,placeholder:"请输入联系方式"},model:{value:t.supplierPhone,callback:function(s){t.supplierPhone=s},expression:"supplierPhone"}})],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"modelBtnWraP"},[a("span",{staticClass:"cancel",on:{click:t.addCancel}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"confirm",on:{click:t.addConfirm}},[t._v("确认")])])])]),t._v(" "),a("Modal",{staticClass:"modelWrap",attrs:{closable:!1,"mask-closable":!1,width:"360"},model:{value:t.editModel,callback:function(s){t.editModel=s},expression:"editModel"}},[a("p",{staticClass:"modelTitle",attrs:{slot:"header"},slot:"header"},[t._v("\n            修改供应商\n        ")]),t._v(" "),a("div",{staticClass:"modelContent"},[a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("供应商名称：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入供应商名称"},model:{value:t.supplierName,callback:function(s){t.supplierName=s},expression:"supplierName"}})],1),t._v(" "),a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("供应商产地：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入供应商产地"},model:{value:t.originPlace,callback:function(s){t.originPlace=s},expression:"originPlace"}})],1),t._v(" "),a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("详细地址：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入详细地址"},model:{value:t.address,callback:function(s){t.address=s},expression:"address"}})],1),t._v(" "),a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("联系人：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入联系人"},model:{value:t.supplierUser,callback:function(s){t.supplierUser=s},expression:"supplierUser"}})],1),t._v(" "),a("div",{staticClass:"type_content"},[a("span",{staticClass:"input_name"},[t._v("联系方式：")]),t._v(" "),a("Input",{staticClass:"model_input",attrs:{type:"tel",maxlength:11,placeholder:"请输入联系方式"},model:{value:t.supplierPhone,callback:function(s){t.supplierPhone=s},expression:"supplierPhone"}})],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"modelBtnWraP"},[a("span",{staticClass:"cancel",on:{click:t.editCancel}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"confirm",on:{click:t.editConfirm}},[t._v("确认")])])])])],1)])])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"listTitle listLi"},[e("div",{staticClass:"li_div"},[t._v("供应商编号")]),t._v(" "),e("div",{staticClass:"li_div"},[t._v("供应商名称")]),t._v(" "),e("div",{staticClass:"li_div"},[t._v("供应商产地")]),t._v(" "),e("div",{staticClass:"li_div"},[t._v("详细地址")]),t._v(" "),e("div",{staticClass:"li_div"},[t._v("联系人")]),t._v(" "),e("div",{staticClass:"li_div"},[t._v("联系方式")]),t._v(" "),e("div",{staticClass:"operate"},[t._v("操作")])])}]};var i=e("VU/8")({name:"supplier",data:function(){return{message:"",dataList:[],total:0,pageNo:1,pageSize:1,addModel:!1,supplierName:"",originPlace:"",address:"",supplierUser:"",supplierPhone:"",id:"",supplierId:"",editModel:!1,searchType:0}},components:{},methods:{toSearchName:function(t){var s=this;this.searchType=1,this.pageNo=t||1,this.$axios({method:"get",url:"supplier/page",params:{supplierName:this.message,pageIndex:this.pageNo,limit:this.pageSize}}).then(function(t){"200"==t.data.code?(s.dataList=t.data.pagination.datas,s.total=t.data.pagination.total&&t.data.pagination?t.data.pagination.total:0):s.$Message.error(t.data.msg)})},toSearchID:function(t){var s=this;this.searchType=2,this.pageNo=t||1,this.$axios({method:"get",url:"supplier/page",params:{supplierId:this.message,pageIndex:this.pageNo,limit:this.pageSize}}).then(function(t){"200"==t.data.code?(s.dataList=t.data.pagination.datas,s.total=t.data.pagination.total&&t.data.pagination?t.data.pagination.total:0):s.$Message.error(t.data.msg)})},toSearchLocal:function(t){var s=this;this.searchType=3,this.pageNo=t||1,this.$axios({method:"get",url:"supplier/page",params:{originPlace:this.message,pageIndex:this.pageNo,limit:this.pageSize}}).then(function(t){"200"==t.data.code?(s.dataList=t.data.pagination.datas,s.total=t.data.pagination.total&&t.data.pagination?t.data.pagination.total:0):s.$Message.error(t.data.msg)})},loadData:function(t){var s=this;this.searchType=0,this.pageNo=t||1,this.$axios({method:"get",url:"supplier/page",params:{pageIndex:this.pageNo,limit:this.pageSize}}).then(function(t){"200"==t.data.code?(s.dataList=t.data.pagination.datas,s.total=t.data.pagination.total&&t.data.pagination?t.data.pagination.total:0):s.$Message.error(t.data.msg)})},showAddModel:function(){this.addModel=!0,this.supplierName="",this.originPlace="",this.address="",this.supplierUser="",this.supplierPhone=""},addCancel:function(){this.addModel=!1,this.supplierName="",this.originPlace="",this.address="",this.supplierUser="",this.supplierPhone=""},addConfirm:function(){var t=this;this.supplierName?this.originPlace?this.address?this.supplierUser?this.supplierPhone?this.$axios({method:"post",url:"supplier/save",data:this.qs.stringify({supplierName:this.supplierName,originPlace:this.originPlace,address:this.address,supplierUser:this.supplierUser,supplierPhone:this.supplierPhone})}).then(function(s){"200"==s.data.code?(t.loadData(),t.addModel=!1,t.supplierName="",t.originPlace="",t.address="",t.supplierUser="",t.supplierPhone=""):t.$Message.error(s.data.msg)}):this.$Message.error({content:"联系电话不能为空",duration:2e3}):this.$Message.error({content:"联系人不能为空",duration:2e3}):this.$Message.error({content:"详细地址不能为空",duration:2e3}):this.$Message.error({content:"供应商产地不能为空",duration:2e3}):this.$Message.error({content:"供应商名称不能为空",duration:2e3})},showEditModel:function(t,s,e,a,i,l,n){this.editModel=!0,this.id=t,this.supplierId=s,this.supplierName=e,this.originPlace=a,this.address=i,this.supplierUser=l,this.supplierPhone=n},editCancel:function(){this.editModel=!1,this.id="",this.supplierId="",this.supplierName="",this.originPlace="",this.address="",this.supplierUser="",this.supplierPhone=""},editConfirm:function(){var t=this;this.supplierName?this.originPlace?this.address?this.supplierUser?this.supplierPhone?this.$axios({method:"post",url:"supplier/update",data:this.qs.stringify({id:this.id,supplierId:this.supplierId,supplierName:this.supplierName,originPlace:this.originPlace,address:this.address,supplierUser:this.supplierUser,supplierPhone:this.supplierPhone})}).then(function(s){"200"==s.data.code?(t.loadData(),t.editModel=!1,t.id="",t.supplierId="",t.supplierName="",t.originPlace="",t.address="",t.supplierUser="",t.supplierPhone=""):t.$Message.error(s.data.msg)}):this.$Message.error({content:"联系电话不能为空",duration:2e3}):this.$Message.error({content:"联系人不能为空",duration:2e3}):this.$Message.error({content:"详细地址不能为空",duration:2e3}):this.$Message.error({content:"供应商产地不能为空",duration:2e3}):this.$Message.error({content:"供应商名称不能为空",duration:2e3})},deleteSupplier:function(t){var s=this;this.$axios({method:"post",url:"supplier/deleteById",data:this.qs.stringify({id:t})}).then(function(t){"200"==t.data.code?(s.$Message.success(t.data.msg),s.loadData()):s.$Message.error(t.data.msg)})},deletecancel:function(){},changePage:function(t){switch(this.searchType){case 0:this.loadData(t);break;case 1:this.toSearchName(t);break;case 3:this.toSearchID(t);break;case 4:this.toSearchLocal(t);break;default:this.loadData(t)}}},mounted:function(){this.loadData()}},a,!1,function(t){e("I4MB")},"data-v-6ca03064",null);s.default=i.exports}});
//# sourceMappingURL=6.7b02baf86ef9e85fc16e.js.map