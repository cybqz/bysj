webpackJsonp([1],{"0w6O":function(t,a){},ZN8a:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"searchWrap"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"searchInput",attrs:{placeholder:"🔎搜索物料名称",type:"text"},domProps:{value:t.message},on:{input:function(a){a.target.composing||(t.message=a.target.value)}}}),t._v(" "),e("div",{staticClass:"searchText putHover",on:{click:t.toSearch}},[t._v("搜索")])]),t._v(" "),e("div",{staticClass:"typeWrap shadow"},[e("div",{staticClass:"typeName"},[t._v("类型：")]),t._v(" "),e("div",{staticClass:"typeContent"},[t._l(t.typeList,function(a,s){return e("span",{key:s},[t._v(t._s(a.name))])}),t._v(" "),e("span",{staticClass:"add_type",on:{click:t.showTypeModel}},[t._v("+")])],2)]),t._v(" "),e("div",{staticClass:"titleWrap"},[e("div",{staticClass:"title"},[t._v("\n      物料信息列表：\n    ")]),t._v(" "),e("div",{staticClass:"titleRight"},[e("div",{staticClass:"count"},[t._v("\n        共有信息 "),e("span",{staticClass:"font_red font_blod font_mr"},[t._v(t._s(t.total))]),t._v("条\n      ")])]),t._v(" "),e("div",{staticClass:"add putHover",on:{click:t.showAddMaterial}},[t._v("\n      新增信息"),e("img",{attrs:{src:s("QBcd"),alt:""}})])]),t._v(" "),e("div",{staticClass:"listWrap "},[e("ul",{staticClass:"list shadow"},[t._m(0),t._v(" "),t.total<=0?e("li",{staticClass:"nodata"},[t._v("\n        暂无数据\n      ")]):t._l(t.dataList,function(a,s){return e("li",{key:s,staticClass:"listLi listContent"},[e("div",{staticClass:"li_div"},[t._v(t._s(a.materialId))]),t._v(" "),e("div",{staticClass:"li_div"},[t._v(t._s(a.materialName))]),t._v(" "),e("div",{staticClass:"li_div"},[t._v(t._s(a.supplierName))]),t._v(" "),e("div",{staticClass:"li_div"},[t._v(t._s(a.typeName))]),t._v(" "),e("div",{staticClass:"li_div"},[t._v(t._s(a.standard))]),t._v(" "),e("div",{staticClass:"li_div"},[t._v(t._s("1"==a.isStop?"是":"否"))]),t._v(" "),e("div",{staticClass:"operate"},[e("span",{staticClass:"edit putHover font_mr",on:{click:function(s){return t.showEditMaterial(a.id,a.materialName,a.materialId,a.supplierId,a.type,a.standard,a.isStop)}}},[t._v("\n            修改\n          ")]),t._v(" "),e("span",{staticClass:"delete putHover font_mr",on:{click:function(s){return t.deleteMaterial(a.id)}}},[t._v("删除")])])])})],2),t._v(" "),e("div",{staticClass:"pageWrap"},[e("Page",{attrs:{total:t.total,current:t.pageNo,"page-size":t.pageSize,"prev-text":"上一页","next-text":"下一页"},on:{"on-change":t.changePage}})],1),t._v(" "),e("div",[e("Modal",{staticClass:"modelWrap",attrs:{closable:!1,"mask-closable":!1,width:"360"},model:{value:t.addTypeModel,callback:function(a){t.addTypeModel=a},expression:"addTypeModel"}},[e("p",{staticClass:"modelTitle",attrs:{slot:"header"},slot:"header"},[t._v("\n            添加类型\n        ")]),t._v(" "),e("div",{staticClass:"modelContent"},[e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("类型名称：")]),t._v(" "),e("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入类型名称，最多七个字",maxlength:7},model:{value:t.typeAddName,callback:function(a){t.typeAddName=a},expression:"typeAddName"}})],1)]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"modelBtnWraP"},[e("span",{staticClass:"cancel",on:{click:t.typeCancel}},[t._v("取消")]),t._v(" "),e("span",{staticClass:"confirm",on:{click:t.typeConfirm}},[t._v("确认")])])])]),t._v(" "),e("Modal",{staticClass:"modelWrap",attrs:{closable:!1,"mask-closable":!1,width:"360"},model:{value:t.addMaterialModel,callback:function(a){t.addMaterialModel=a},expression:"addMaterialModel"}},[e("p",{staticClass:"modelTitle",attrs:{slot:"header"},slot:"header"},[t._v("新增物料")]),t._v(" "),e("div",{staticClass:"modelContent"},[e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("物料名称：")]),t._v(" "),e("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入物料名称"},model:{value:t.materialName,callback:function(a){t.materialName=a},expression:"materialName"}})],1),t._v(" "),e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("物料标准：")]),t._v(" "),e("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入物料标准"},model:{value:t.standard,callback:function(a){t.standard=a},expression:"standard"}})],1),t._v(" "),e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("供应商：")]),t._v(" "),e("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择供应商",size:"small"},model:{value:t.supplierId,callback:function(a){t.supplierId=a},expression:"supplierId"}},t._l(t.supplierList,function(a){return e("Option",{key:a.supplierId,attrs:{value:a.supplierId}},[t._v(t._s(a.supplierName))])}),1)],1),t._v(" "),e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("物料类型：")]),t._v(" "),e("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择物料类型",size:"small"},model:{value:t.typeId,callback:function(a){t.typeId=a},expression:"typeId"}},t._l(t.typeList,function(a){return e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])}),1)],1),t._v(" "),e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("是否停用：")]),t._v(" "),e("RadioGroup",{model:{value:t.isStop,callback:function(a){t.isStop=a},expression:"isStop"}},[e("Radio",{attrs:{label:"1"}},[t._v("已停用")]),t._v(" "),e("Radio",{attrs:{label:"0"}},[t._v("未停用")])],1)],1)]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"modelBtnWraP"},[e("span",{staticClass:"cancel",on:{click:t.addCancel}},[t._v("取消")]),t._v(" "),e("span",{staticClass:"confirm",on:{click:t.addConfirm}},[t._v("确认")])])])]),t._v(" "),e("Modal",{staticClass:"modelWrap",attrs:{closable:!1,"mask-closable":!1,width:"360"},model:{value:t.editMaterialModel,callback:function(a){t.editMaterialModel=a},expression:"editMaterialModel"}},[e("p",{staticClass:"modelTitle",attrs:{slot:"header"},slot:"header"},[t._v("\n            编辑物料\n        ")]),t._v(" "),e("div",{staticClass:"modelContent"},[e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("物料名称：")]),t._v(" "),e("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入物料名称"},model:{value:t.materialName,callback:function(a){t.materialName=a},expression:"materialName"}})],1),t._v(" "),e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("物料标准：")]),t._v(" "),e("Input",{staticClass:"model_input",attrs:{type:"text",placeholder:"请输入物料标准"},model:{value:t.standard,callback:function(a){t.standard=a},expression:"standard"}})],1),t._v(" "),e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("供应商：")]),t._v(" "),e("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择供应商",size:"small"},model:{value:t.supplierId,callback:function(a){t.supplierId=a},expression:"supplierId"}},t._l(t.supplierList,function(a){return e("Option",{key:a.supplierId,attrs:{value:a.supplierId}},[t._v(t._s(a.supplierName))])}),1)],1),t._v(" "),e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("物料类型：")]),t._v(" "),e("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择物料类型",size:"small"},model:{value:t.typeId,callback:function(a){t.typeId=a},expression:"typeId"}},t._l(t.typeList,function(a){return e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])}),1)],1),t._v(" "),e("div",{staticClass:"type_content"},[e("span",{staticClass:"input_name"},[t._v("是否停用：")]),t._v(" "),e("RadioGroup",{model:{value:t.isStop,callback:function(a){t.isStop=a},expression:"isStop"}},[e("Radio",{attrs:{label:"1"}},[t._v("已停用")]),t._v(" "),e("Radio",{attrs:{label:"0"}},[t._v("未停用")])],1)],1)]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"modelBtnWraP"},[e("span",{staticClass:"cancel",on:{click:t.editCancel}},[t._v("取消")]),t._v(" "),e("span",{staticClass:"confirm",on:{click:t.editConfirm}},[t._v("确认")])])])])],1)])])},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",{staticClass:"listTitle listLi"},[s("div",{staticClass:"li_div"},[t._v("物料编号")]),t._v(" "),s("div",{staticClass:"li_div"},[t._v("物料名称")]),t._v(" "),s("div",{staticClass:"li_div"},[t._v("供应商")]),t._v(" "),s("div",{staticClass:"li_div"},[t._v("类型")]),t._v(" "),s("div",{staticClass:"li_div"},[t._v("标准")]),t._v(" "),s("div",{staticClass:"li_div"},[t._v("是否停用")]),t._v(" "),s("div",{staticClass:"operate"},[t._v("操作")])])}]};var i=s("VU/8")({name:"material",data:function(){return{message:"",dataList:[],typeList:[],supplierList:[],total:0,pageNo:1,pageSize:5,addTypeModel:!1,typeAddName:"",addMaterialModel:!1,materialName:"",materialId:"",standard:"",isStop:"0",id:"",supplierId:"",typeId:"",editMaterialModel:!1}},components:{},methods:{toSearch:function(){this.pageNo=1,this.loadData()},loadType:function(){var t=this;this.$axios({method:"get",url:"parames/getMaterialType"}).then(function(a){"200"==a.data.code?t.typeList=a.data.data:t.$Message.error(a.data.msg)})},loadSupplier:function(){var t=this;this.$axios({method:"get",url:"supplier/list"}).then(function(a){"200"==a.data.code?t.supplierList=a.data.data:t.$Message.error(a.data.msg)})},loadData:function(){var t=this;this.$axios({method:"get",url:"material/page",params:{materialName:this.message,pageIndex:this.pageNo,limit:this.pageSize}}).then(function(a){"200"==a.data.code?(t.dataList=a.data.pagination.datas,t.total=a.data.pagination.total&&a.data.pagination?a.data.pagination.total:0):t.$Message.error(a.data.msg)})},showAddMaterial:function(){this.materialName="",this.standard="",this.supplierId="",this.typeId="",this.isStop="0",this.addMaterialModel=!0},addCancel:function(){this.materialName="",this.standard="",this.supplierId="",this.typeId="",this.isStop="0",this.addMaterialModel=!1},addConfirm:function(){var t=this;this.materialName?this.standard?this.supplierId?this.typeId?this.$axios({method:"post",url:"material/save",data:this.qs.stringify({supplierId:this.supplierId,materialName:this.materialName,type:this.typeId,isStop:this.isStop,standard:this.standard})}).then(function(a){"200"==a.data.code?(t.loadData(),t.addMaterialModel=!1,t.materialName="",t.standard="",t.supplierId="",t.typeId="",t.isStop="0"):t.$Message.error(a.data.msg)}):this.$Message.error({content:"物料类型不能为空",duration:2e3}):this.$Message.error({content:"供应商不能为空",duration:2e3}):this.$Message.error({content:"物料标准不能为空",duration:2e3}):this.$Message.error({content:"物料名称不能为空",duration:2e3})},showEditMaterial:function(t,a,s,e,i,l,d){this.materialName=a,this.materialId=s,this.standard=l,this.isStop=d,this.id=t,this.supplierId=e,this.typeId=i,this.editMaterialModel=!0},editCancel:function(){this.materialName="",this.standard="",this.isStop="0",this.id="",this.supplierId="",this.materialId="",this.typeId="",this.editMaterialModel=!1},editConfirm:function(){var t=this;this.materialName?this.standard?this.supplierId?this.typeId?this.$axios({method:"post",url:"material/update",data:this.qs.stringify({supplierId:this.supplierId,materialName:this.materialName,type:this.typeId,isStop:this.isStop,standard:this.standard,id:this.id})}).then(function(a){"200"==a.data.code?(t.loadData(),t.editMaterialModel=!1,t.materialName="",t.standard="",t.isStop="0",t.id="",t.supplierId="",t.typeId="",t.materialId=""):t.$Message.error(a.data.msg)}):this.$Message.error({content:"物料类型不能为空",duration:2e3}):this.$Message.error({content:"供应商不能为空",duration:2e3}):this.$Message.error({content:"物料标准不能为空",duration:2e3}):this.$Message.error({content:"物料名称不能为空",duration:2e3})},deleteMaterial:function(t){var a=this;this.$axios({method:"post",url:"material/deleteById",data:this.qs.stringify({id:t})}).then(function(t){"200"==t.data.code?(a.$Message.success(t.data.msg),a.loadData()):a.$Message.error(t.data.msg)})},showTypeModel:function(){this.typeAddName="",this.addTypeModel=!0},typeCancel:function(){this.addTypeModel=!1,this.typeAddName=""},typeConfirm:function(){var t=this;this.typeAddName?this.$axios({method:"post",url:"parames/saveMaterialType",data:this.qs.stringify({name:this.typeAddName})}).then(function(a){"200"==a.data.code?(t.loadType(),t.addTypeModel=!1,t.typeAddName=""):t.$Message.error(a.data.msg)}):this.$Message.error({content:"物料类型不能为空",duration:2e3})},changePage:function(t){this.pageNo=t,this.loadData()}},mounted:function(){this.loadData(),this.loadType(),this.loadSupplier()}},e,!1,function(t){s("0w6O")},"data-v-79d08ddd",null);a.default=i.exports}});
//# sourceMappingURL=1.ed7c903dd38ec5ba66d5.js.map